<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokemon Game</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .scoreboard {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 20px;
            font-weight: bold;
            color: #fff;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 20px;
            border-radius: 10px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="scoreboard" id="scoreboard">Score: 0</div>
    <div class="container">
        <img src="assets/pika-shadow.jpg" alt="Pikachu" class="pokemon-image" id="pokemonImage">
        <div class="buttons-container">
            <button class="button" id="pikachu">Pikachu</button>
            <button class="button" id="gengar">Gengar</button>
            <button class="button" id="ekans">Ekans</button>
            <button class="button" id="munchlax">Munchlax</button>
        </div>
        <a href="Pokedex.html" id="pokedexLink" class="hidden">POKEDEX</a>
    </div>

    <script>
        // Track if the user has already clicked a button
        let hasAnswered = false;

        // Add event listeners to buttons
        document.getElementById('pikachu').addEventListener('click', function () {
            handleAnswer(true, 'assets/Pika reveal.webp'); // Correct choice (Pikachu)
        });

        document.getElementById('gengar').addEventListener('click', function () {
            handleAnswer(false, 'assets/Pika reveal.webp'); // Incorrect choice
        });

        document.getElementById('ekans').addEventListener('click', function () {
            handleAnswer(false, 'assets/Pika reveal.webp'); // Incorrect choice
        });

        document.getElementById('munchlax').addEventListener('click', function () {
            handleAnswer(false, 'assets/Pika reveal.webp'); // Incorrect choice
        });

        // Function to handle the answer
        function handleAnswer(isCorrect, newImage) {
            // If the user has already answered, prevent further actions
            if (hasAnswered) return;
            hasAnswered = true;

            // Get the container, image, and scoreboard elements
            const container = document.querySelector('.container');
            const pokemonImage = document.getElementById('pokemonImage');
            const scoreboard = document.getElementById('scoreboard');
            const pokedexLink = document.getElementById('pokedexLink');

            // Change container color and image based on the answer
            if (isCorrect) {
                container.style.backgroundColor = '#4CAF50'; // Green for correct choice
                scoreboard.textContent = 'Score: 1'; // Add score
            } else {
                container.style.backgroundColor = '#f44336'; // Red for incorrect choice
                scoreboard.textContent = 'Score: 0'; // No score for incorrect choice
            }

            // Update the image
            pokemonImage.src = newImage;

            // Show Pokedex link
            pokedexLink.classList.remove('hidden');
        }
        document.getElementById('finishGame').addEventListener('click', function () {
            const score = 150; // Example score, update dynamically based on your game logic
            localStorage.setItem('score', score); // Store the score in localStorage

            // Redirect to the Gengar page (the next QR code link)
            window.location.href = 'gengar.html'; // Ensure the URL matches your QR code
        });
    </script>
</body>
</html>
